{
  "name": "react-text-visual-regression",
  "$schema": "../../../../node_modules/nx/schemas/project-schema.json",
  "sourceRoot": "packages/react-components/react-text/visual-regression/src",
  "projectType": "library",
  "tags": ["vNext", "platform:web", "visual-regression"],
  "targets": {
    "storybook": {
      "command": "storybook dev",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "generate-image-for-vrt": {
      "command": "rm -rf dist/vrt/actual && storywright  --browsers chromium --url dist/storybook --destpath dist/vrt/actual --waitTimeScreenshot 500 --concurrency 4 --headless true",
      "options": {
        "cwd": "{projectRoot}"
      },
      "metadata": {
        "help": {
          "command": "yarn storywright --help",
          "example": {}
        }
      },
      "dependsOn": ["build-storybook"],
      "inputs": ["{projectRoot}/src/**/*.stories.tsx?"],
      "outputs": ["{projectRoot}/dist/vrt/actual/**"],
      "cache": true
    },
    "test-vr": {
      "executor": "@fluentui/workspace-plugin:visual-regression",
      "dependsOn": ["build-storybook"]
    },
    "test-vr-cli": {
      "command": "visual-regression-assert assert --baselineDir dist/vrt/baseline --actualDir dist/vrt/actual --diffDir dist/vrt/diff --reportPath dist/vrt/report.html",
      "options": {
        "cwd": "{projectRoot}"
      },
      "dependsOn": ["build-storybook", "generate-image-for-vrt"],
      "inputs": ["{projectRoot}/dist/vrt/screenshots/**"],
      "metadata": {
        "help": {
          "command": "yarn visual-regression-assert --help",
          "example": {}
        }
      }
    },
    "build-storybook": {
      "command": "storybook build -o dist/storybook --quiet",
      "options": {
        "cwd": "{projectRoot}"
      }
    },
    "build": {
      "executor": "@nx/js:swc",
      "outputs": ["{options.outputPath}"],
      "options": {
        "outputPath": "dist/packages/react-components/react-text/visual-regression",
        "main": "packages/react-components/react-text/visual-regression/src/index.ts",
        "tsConfig": "packages/react-components/react-text/visual-regression/tsconfig.lib.json",
        "assets": ["packages/react-components/react-text/visual-regression/*.md"]
      }
    },
    "lint": {
      "executor": "@nx/eslint:lint"
    }
  }
}
